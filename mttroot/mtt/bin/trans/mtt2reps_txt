#! /bin/sh

# mtt2reps_txt: Gives a tabular listing of representations and languages
# P J Gawthrop July 1998, October 1998
# Copyright (c) P.J.Gawthrop, 1998

###############################################################
## Version control history
###############################################################
## $Id$
## $Log$
## Revision 1.4  1999/03/09 00:03:06  peterg
## Revisions for xmtt
##
## Revision 1.3  1999/03/08 21:24:43  peterg
## Handles * representations:
##
## 	rep* is special
##         rep shows all possible languages
##
## Revision 1.2  1999/03/08 06:34:07  peterg
## Removed mtt help - replaced by grep #SUMMARY - quicker
##
## Revision 1.1  1998/10/20 08:15:08  peterg
## Initial revision
##
###############################################################


representations=`grep '#SUMMARY' $MTTPATH/mtt | awk '{print $2'} | sort -u `

for rep in $representations ; do
    ## Title should be same for all languages -- extract from first version
    title=`grep '#SUMMARY' $MTTPATH/mtt | grep $rep | head -1 | \
      awk '{for (i=3;i<NF;i++) print $i}'`

    language=`grep '#SUMMARY' $MTTPATH/mtt |\
      awk '
        {
          if (index(rep,"*")==length(rep)){
            if ($2==rep) print $NF
          }
          else
            if (($2==rep)||($2==sprintf("%s*",rep))) print $NF
        }' rep=$rep |\
      sort -u | sed 's/[()]//g'`

    Title='('$title')'
    echo $rep $Title "|" $language # |\
    #   awk '{
    #     printf( "%s", $1)
    #     for (i=2;i<=NF;i++) printf("\t%s", $i); 
    #     printf("\n")
    #   }'
done

