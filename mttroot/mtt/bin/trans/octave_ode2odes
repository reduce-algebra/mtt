#! /bin/sh

     ###################################### 
     ##### Model Transformation Tools #####
     ######################################

# Bourne shell script: octave_ode2odes
# Runs the Octave script $1_ode2odeso.m
# Copyright (c) P.J.Gawthrop 1999

###############################################################
## Version control history
###############################################################
## $Id$
## $Log$
## Revision 1.2  2000/05/11 13:43:14  peterg
## No change
##
## Revision 1.1  1999/03/15 23:27:16  peterg
## Initial revision
##
###############################################################


echo Creating $1_odes.dat2
$MATRIX  <<EOF >octave_ode2odes.log 2>mtt_error.txt
  global MTT_data

  ## Set up the simulation parameters
  par = $1_numpar; 
  x_0  =  $1_state(par);
  simpar = $1_simpar;
  $1_ode2odes(x_0,par,simpar); 
  if is_complex(MTT_data)
    mtt_error("octave_ode2odes: Simulated data is complex - something is wrong!");
    MTT_data = real(MTT_data);
  endif;
  save -ascii $1_odes.dat2 MTT_data
EOF

mtt_error mtt_error.txt
