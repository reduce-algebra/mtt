#! /bin/sh

     ###################################### 
     ##### Model Transformation Tools #####
     ######################################

# Bourne shell script: sympar2numpar_txt2txt
# Creates the deafault numerical parameters file for the system (txt)

# Copyright (c) P.J.Gawthrop 1996

###############################################################
## Version control history
###############################################################
## $Id$
## $Log$
## Revision 1.11  1998/06/15 15:14:46  peterg
## Don't print if blank line
##
## Revision 1.10  1998/03/07 15:27:20  peterg
## Don't do initial states.
##
## Revision 1.9  1998/02/04 12:24:35  peterg
## Simplified output format
##
## Revision 1.8  1998/01/29 17:06:36  peterg
## Better annotation
##
## Revision 1.7  1997/09/18 17:10:18  peterg
## Changed comments pertaining to the parameters to use the new column 2
## of the sympar file (the system type).
## Added blank line to separate parmeters from states.
## (Done in the Chester Court Hotel).
##
## Revision 1.6  1997/06/13 09:34:39  peterg
## changed [] to ()
##
# Revision 1.5  1997/05/15  08:30:14  peterg
# Now write default states (using _struc file).
#
# Revision 1.4  1997/05/15  07:19:19  peterg
# Put back "tolower"
#
# Revision 1.3  1997/05/15  07:13:31  peterg
# Removed "tolower" function.
#
# Revision 1.2  1997/05/01  08:19:04  peterg
# # is now used as the comment symbol
#
# Revision 1.1  1997/05/01  07:35:48  peterg
# Initial revision
#
###############################################################


# Inform user
echo Creating $1_numpar.txt

#Create the numpar file complete with headers.
echo '# -*-octave-*- Put Emacs into octave-mode' > $1_numpar.txt
echo "# Numerical parameter file ($1_numpar.txt)" >> $1_numpar.txt
echo "# Generated by MTT at `date`" >> $1_numpar.txt
cat $MTTPATH/trans/rcs_header.txt  >> $1_numpar.txt

#Write out the variables 
echo "# Parameters" >> $1_numpar.txt
awk '{i++; if (NF>0) print tolower($1) " = \t1.0; \# " $2}' $1_sympar.txt \
>> $1_numpar.txt

#Write out the initial states
#echo  >> $1_numpar.txt
#echo "# Initial states" >> $1_numpar.txt
#awk '{
#  if ($1=="state") 
#    print "x(" $2 ") = \t0.0; \# " $4 " (" $3 ")"
#}' \
# $1_struc.txt >> $1_numpar.txt





